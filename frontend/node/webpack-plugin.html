<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack 插件开发指南 | LinQiang.Shen</title>
    <meta name="description" content="Vite & Vue powered static site generator.">
    <meta name="generator" content="VitePress v1.0.2">
    <link rel="preload stylesheet" href="/blog-vitepress/assets/style.kLqEidTH.css" as="style">
    
    <script type="module" src="/blog-vitepress/assets/app.K-FDZiLL.js"></script>
    <link rel="preload" href="/blog-vitepress/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog-vitepress/assets/chunks/framework.CE7GJjuD.js">
    <link rel="modulepreload" href="/blog-vitepress/assets/chunks/theme.DP6sCxhs.js">
    <link rel="modulepreload" href="/blog-vitepress/assets/frontend_node_webpack-plugin.md.CVwIi7j8.lean.js">
    <link rel="icon" href="/blog-vitepress/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-74f58bfe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-91849d25></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-91849d25> Skip to content </a><!--]--><!----><header class="VPNav" data-v-74f58bfe data-v-de867c9a><div class="VPNavBar has-sidebar top" data-v-de867c9a data-v-f86da031><div class="wrapper" data-v-f86da031><div class="container" data-v-f86da031><div class="title" data-v-f86da031><div class="VPNavBarTitle has-sidebar" data-v-f86da031 data-v-d1cfcb60><a class="title" href="/blog-vitepress/" data-v-d1cfcb60><!--[--><!--]--><!--[--><img class="VPImage logo" src="/blog-vitepress/assets/WechatIMG56.jpg" alt data-v-960bdb0e><!--]--><span data-v-d1cfcb60>LinQiang·Shen</span><!--[--><!--]--></a></div></div><div class="content" data-v-f86da031><div class="content-body" data-v-f86da031><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f86da031><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f86da031 data-v-cc14d811><span id="main-nav-aria-label" class="visually-hidden" data-v-cc14d811>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog-vitepress/posts/" tabindex="0" data-v-cc14d811 data-v-92f4ee7e><!--[--><span data-v-92f4ee7e>博客</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-cc14d811 data-v-4e0f6f89><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4e0f6f89><span class="text" data-v-4e0f6f89><!----><span data-v-4e0f6f89>前端</span><span class="vpi-chevron-down text-icon" data-v-4e0f6f89></span></span></button><div class="menu" data-v-4e0f6f89><div class="VPMenu" data-v-4e0f6f89 data-v-1c8b9008><div class="items" data-v-1c8b9008><!--[--><!--[--><div class="VPMenuLink" data-v-1c8b9008 data-v-7082e6d8><a class="VPLink link" href="/blog-vitepress/frontend/react/" data-v-7082e6d8><!--[-->React<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c8b9008 data-v-7082e6d8><a class="VPLink link" href="/blog-vitepress/frontend/node/" data-v-7082e6d8><!--[-->Node<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c8b9008 data-v-7082e6d8><a class="VPLink link" href="/blog-vitepress/frontend/utils-lib/" data-v-7082e6d8><!--[-->工具函数库<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c8b9008 data-v-7082e6d8><a class="VPLink link" href="/blog-vitepress/frontend/zebr-cli/" data-v-7082e6d8><!--[-->命令行工具<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c8b9008 data-v-7082e6d8><a class="VPLink link" href="/blog-vitepress/frontend/kopi-crx/" data-v-7082e6d8><!--[-->Kopi<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c8b9008 data-v-7082e6d8><a class="VPLink link" href="/blog-vitepress/frontend/tab-quick-group-crx/index.html" data-v-7082e6d8><!--[-->Tab Quick Group<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f86da031 data-v-31dce21b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-31dce21b data-v-4e9400af data-v-739b117a><span class="check" data-v-739b117a><span class="icon" data-v-739b117a><!--[--><span class="vpi-sun sun" data-v-4e9400af></span><span class="vpi-moon moon" data-v-4e9400af></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f86da031 data-v-aeb31441 data-v-e4b2ee19><!--[--><a class="VPSocialLink no-icon" href="https://gitee.com/shen-linqiang" aria-label target="_blank" rel="noopener" data-v-e4b2ee19 data-v-ceacdade><svg xmlns="http://www.w3.org/2000/svg" viewBox="120 13 72 72"><script xmlns=""/><g fill="none" fill-rule="evenodd" transform=""><path d="m0 0h312v100h-312z"/><path d="m156 85c-19.882251 0-36-16.117749-36-36s16.117749-36 36-36 36 16.117749 36 36-16.117749 36-36 36zm18.222232-39.9993426-20.444332.0004656c-.981652 0-1.777511.7956502-1.777768 1.7773025l-.002109 4.4442415c-.000258.9818341.795468 1.7779763 1.777302 1.7782335h.00048l12.446471-.0005988c.981834-.0000082 1.777775.795919 1.777783 1.7777532v.0000148l-.000015.4443924v.4444466c0 2.9455024-2.387801 5.3333039-5.333304 5.3333039l-16.890119-.000049c-.981693 0-1.77752-.7958052-1.777547-1.7774984l-.000662-16.8884814c-.000081-2.9455025 2.387655-5.3333698 5.333157-5.333451h.000147l24.885554-.0009559c.981404 0 1.777159-.795262 1.777768-1.7766654l.004962-4.4442409c.000609-.981834-.794831-1.7782613-1.776665-1.7788703-.000368-.0000002-.000735-.0000003-.001103-.0000003l-24.888752.0011758c-7.363727 0-13.333219 5.9694589-13.333259 13.3331863l-.000221 24.8878699c-.000005.9818342.795924 1.7777724 1.777758 1.7777778l26.222571-.0000098c6.627235 0 11.999671-5.3724358 11.999671-11.9996713v-10.2219033c0-.9818341-.795934-1.777768-1.777768-1.777768z" fill="#c71d23"/></g><script xmlns=""/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/zebr57" aria-label="github" target="_blank" rel="noopener" data-v-e4b2ee19 data-v-ceacdade><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f86da031 data-v-aa53bf66 data-v-4e0f6f89><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-4e0f6f89><span class="vpi-more-horizontal icon" data-v-4e0f6f89></span></button><div class="menu" data-v-4e0f6f89><div class="VPMenu" data-v-4e0f6f89 data-v-1c8b9008><!----><!--[--><!--[--><!----><div class="group" data-v-aa53bf66><div class="item appearance" data-v-aa53bf66><p class="label" data-v-aa53bf66>Appearance</p><div class="appearance-action" data-v-aa53bf66><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-aa53bf66 data-v-4e9400af data-v-739b117a><span class="check" data-v-739b117a><span class="icon" data-v-739b117a><!--[--><span class="vpi-sun sun" data-v-4e9400af></span><span class="vpi-moon moon" data-v-4e9400af></span><!--]--></span></span></button></div></div></div><div class="group" data-v-aa53bf66><div class="item social-links" data-v-aa53bf66><div class="VPSocialLinks social-links-list" data-v-aa53bf66 data-v-e4b2ee19><!--[--><a class="VPSocialLink no-icon" href="https://gitee.com/shen-linqiang" aria-label target="_blank" rel="noopener" data-v-e4b2ee19 data-v-ceacdade><svg xmlns="http://www.w3.org/2000/svg" viewBox="120 13 72 72"><script xmlns=""/><g fill="none" fill-rule="evenodd" transform=""><path d="m0 0h312v100h-312z"/><path d="m156 85c-19.882251 0-36-16.117749-36-36s16.117749-36 36-36 36 16.117749 36 36-16.117749 36-36 36zm18.222232-39.9993426-20.444332.0004656c-.981652 0-1.777511.7956502-1.777768 1.7773025l-.002109 4.4442415c-.000258.9818341.795468 1.7779763 1.777302 1.7782335h.00048l12.446471-.0005988c.981834-.0000082 1.777775.795919 1.777783 1.7777532v.0000148l-.000015.4443924v.4444466c0 2.9455024-2.387801 5.3333039-5.333304 5.3333039l-16.890119-.000049c-.981693 0-1.77752-.7958052-1.777547-1.7774984l-.000662-16.8884814c-.000081-2.9455025 2.387655-5.3333698 5.333157-5.333451h.000147l24.885554-.0009559c.981404 0 1.777159-.795262 1.777768-1.7766654l.004962-4.4442409c.000609-.981834-.794831-1.7782613-1.776665-1.7788703-.000368-.0000002-.000735-.0000003-.001103-.0000003l-24.888752.0011758c-7.363727 0-13.333219 5.9694589-13.333259 13.3331863l-.000221 24.8878699c-.000005.9818342.795924 1.7777724 1.777758 1.7777778l26.222571-.0000098c6.627235 0 11.999671-5.3724358 11.999671-11.9996713v-10.2219033c0-.9818341-.795934-1.777768-1.777768-1.777768z" fill="#c71d23"/></g><script xmlns=""/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/zebr57" aria-label="github" target="_blank" rel="noopener" data-v-e4b2ee19 data-v-ceacdade><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f86da031 data-v-a4d68782><span class="container" data-v-a4d68782><span class="top" data-v-a4d68782></span><span class="middle" data-v-a4d68782></span><span class="bottom" data-v-a4d68782></span></span></button></div></div></div></div><div class="divider" data-v-f86da031><div class="divider-line" data-v-f86da031></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-74f58bfe data-v-4c7ce72f><div class="container" data-v-4c7ce72f><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-4c7ce72f><span class="vpi-align-left menu-icon" data-v-4c7ce72f></span><span class="menu-text" data-v-4c7ce72f>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-4c7ce72f data-v-ef1d05ad><button data-v-ef1d05ad>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-74f58bfe data-v-2ba7b321><div class="curtain" data-v-2ba7b321></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-2ba7b321><span class="visually-hidden" id="sidebar-aria-label" data-v-2ba7b321> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-2ba7b321><section class="VPSidebarItem level-0 collapsible collapsed" data-v-2ba7b321 data-v-6ff93235><div class="item" role="button" tabindex="0" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><h2 class="text" data-v-6ff93235>Vue</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6ff93235><span class="vpi-chevron-right caret-icon" data-v-6ff93235></span></div></div><div class="items" data-v-6ff93235><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/vue/ref-reactive.html" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>ref和reactive</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/vue/performance.html" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>vue 性能优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/vue/version-diff.html" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>vue2和vue3的区别</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-2ba7b321><section class="VPSidebarItem level-0 collapsible collapsed" data-v-2ba7b321 data-v-6ff93235><div class="item" role="button" tabindex="0" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><h2 class="text" data-v-6ff93235>React</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6ff93235><span class="vpi-chevron-right caret-icon" data-v-6ff93235></span></div></div><div class="items" data-v-6ff93235><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/react/" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>What is React?</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-2ba7b321><section class="VPSidebarItem level-0 collapsible collapsed" data-v-2ba7b321 data-v-6ff93235><div class="item" role="button" tabindex="0" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><h2 class="text" data-v-6ff93235>Node</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6ff93235><span class="vpi-chevron-right caret-icon" data-v-6ff93235></span></div></div><div class="items" data-v-6ff93235><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/node/" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>What is Node?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/node/base.html" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>常用模块</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/node/file-actions.html" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>文件操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/node/Buffer-and-stream.html" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>buffer和stream</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/node/http.html" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>http 服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/node/Express-and-koa.html" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>Express 和 Koa 框架</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/node/koa-bff.html" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>koa 做 bff 中间层</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6ff93235 data-v-6ff93235><div class="item" data-v-6ff93235><div class="indicator" data-v-6ff93235></div><a class="VPLink link link" href="/blog-vitepress/frontend/node/node-cli.html" data-v-6ff93235><!--[--><p class="text" data-v-6ff93235>工程化工具-cli</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-74f58bfe data-v-6afa025c><div class="VPDoc has-sidebar has-aside" data-v-6afa025c data-v-f84033f6><!--[--><!--]--><div class="container" data-v-f84033f6><div class="aside" data-v-f84033f6><div class="aside-curtain" data-v-f84033f6></div><div class="aside-container" data-v-f84033f6><div class="aside-content" data-v-f84033f6><div class="VPDocAside" data-v-f84033f6 data-v-653d901e><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-653d901e data-v-c0fa048f><div class="content" data-v-c0fa048f><div class="outline-marker" data-v-c0fa048f></div><div class="outline-title" role="heading" aria-level="2" data-v-c0fa048f>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-c0fa048f><span class="visually-hidden" id="doc-outline-aria-label" data-v-c0fa048f> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-c0fa048f data-v-40e548b5><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-653d901e></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-f84033f6><div class="content-container" data-v-f84033f6><!--[--><!--]--><main class="main" data-v-f84033f6><div style="position:relative;" class="vp-doc _blog-vitepress_frontend_node_webpack-plugin" data-v-f84033f6><div><h1 id="webpack-插件开发指南" tabindex="-1">webpack 插件开发指南 <a class="header-anchor" href="#webpack-插件开发指南" aria-label="Permalink to &quot;webpack 插件开发指南&quot;">​</a></h1><h2 id="webpack-插件" tabindex="-1">webpack 插件 <a class="header-anchor" href="#webpack-插件" aria-label="Permalink to &quot;webpack 插件&quot;">​</a></h2><ul><li>插件其实就是一个 class 类，其中有一个 apply 方法，携带参数 compiler</li><li>主要通过监听 emit、done 这两个钩子</li><li>compiler.hooks.emit.tap 打包完成</li><li>compiler.hooks.done.tap 打包结束</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> myPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">compiler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 监听webpack的某某个生命周期，emit打包完成，done打包结束， 周期有20+</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    compiler.hooks.emit.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myPlugin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">compilation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(compilation.assets[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main.a3e1e84b.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 打包结束，操作dist文件夹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    compiler.hooks.done.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myPlugin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 增删改其他的文件等...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> myPlugin;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="日常操作简便化小工具" tabindex="-1">日常操作简便化小工具 <a class="header-anchor" href="#日常操作简便化小工具" aria-label="Permalink to &quot;日常操作简便化小工具&quot;">​</a></h2><p>核心思路： 我们日常工作做的事情无非就这几方面，操作文件，编写文件、网络上传下载，命令行输入</p><p>这些操作 node 都能做，所以我们思考下平时有哪些机械的重复操作、数据操作、命令行的操作可以用 node 小工具来做</p><p><em>shelljs，命令行操作工具库</em></p><h2 id="工具-1-根据选项输出模版代码供复制" tabindex="-1">工具 1，根据选项输出模版代码供复制 <a class="header-anchor" href="#工具-1-根据选项输出模版代码供复制" aria-label="Permalink to &quot;工具 1，根据选项输出模版代码供复制&quot;">​</a></h2><p>在我们使用封装好的组件，在 A 页面使用了并传递数据、定义方法，之后我们在 B 页面也要使用</p><p>如果 A 页面已经有了大量代码，查找复制起来很麻烦，将使用方式定义在一个模版中，通过命令去读取我们想要的代码，输出后方便我们复制</p><ol><li>准备模版文件</li><li>使用 inquirer 提问</li><li>根据结果读取文件并输出打印</li></ol><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-t0T5V" id="tab-9zD50Ym" checked="checked"><label for="tab-9zD50Ym">tool.js</label><input type="radio" name="group-t0T5V" id="tab-fz9KLh3"><label for="tab-fz9KLh3">codeTemplate/treeTable</label></div><div class="blocks"><div class="language-js vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> inquirer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;inquirer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">inquirer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;list&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;你想要那部分内容&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      choices: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;treeTable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;page&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;search&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">answer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./codeTemplate/&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> answer.content).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 命令行窗口输出</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>  &lt;table data=&quot;tableList&quot; @changePage=&quot;handleChangePage&quot;&gt;&lt;table&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  tableList: []</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>handleChangePage(e) {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div></div><p>效果</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">linsen@LinsenMBP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node-tool-demo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> %</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tool.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 你想要那部分内容 treeTable</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">template</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">table</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data=&quot;tableList&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @changePage=&quot;handleChangePage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tabl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/template</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  tableList:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleChangePage(e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="工具-2-根据路径查找组件" tabindex="-1">工具 2，根据路径查找组件 <a class="header-anchor" href="#工具-2-根据路径查找组件" aria-label="Permalink to &quot;工具 2，根据路径查找组件&quot;">​</a></h2><p>路由列表是后端返回时，当路由地址与组件地址不对应时，查找起来很麻烦，写一个命令，携带 参数 url，通过 url 找出组件，通过自动拷贝组件路劲，然后在 vscode 全局搜索</p><ol><li>获取路由配置列表</li><li>获取命令携带的参数 url</li><li>遍历查找出匹配的组件</li><li>输出并拷贝</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;copy-paste&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> routeArr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> process.argv[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/#&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">routeArr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (item.path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item.component);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 自动拷贝</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">copy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item.component);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="工具-3-git-自动化提交" tabindex="-1">工具 3， git 自动化提交 <a class="header-anchor" href="#工具-3-git-自动化提交" aria-label="Permalink to &quot;工具 3， git 自动化提交&quot;">​</a></h2><p>通过新开 node 的子进程去执行命令，一条命令完成 git 提交上传代码操作</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> child_process </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;child_process&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">child_process.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;git add.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">stdout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;v1.91&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> process.argv[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.argv[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    _type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;bugfix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.argv[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    _version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;v1.9.2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  child_process.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;git commit -m &#39;&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&#39;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-f84033f6 data-v-fbf8471c><!--[--><!--]--><div class="edit-info" data-v-fbf8471c><!----><div class="last-updated" data-v-fbf8471c><p class="VPLastUpdated" data-v-fbf8471c data-v-5a50fa9b>最近更新时间: <time datetime="2024-01-16T17:03:34.000Z" data-v-5a50fa9b></time></p></div></div><nav class="prev-next" data-v-fbf8471c><div class="pager" data-v-fbf8471c><!----></div><div class="pager" data-v-fbf8471c><a class="VPLink link pager-link next" href="/blog-vitepress/frontend/vue/ref-reactive.html" data-v-fbf8471c><!--[--><span class="desc" data-v-fbf8471c>下一篇</span><span class="title" data-v-fbf8471c>ref和reactive</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-74f58bfe data-v-877d7f52><div class="container" data-v-877d7f52><!----><p class="copyright" data-v-877d7f52>Copyright © 2023-present LinQiang Shen</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"demo_koa-bff-demo_readme.md\":\"11K5ncXT\",\"frontend_node_index.md\":\"BxpZs1Ka\",\"demo_node-demo_readme.md\":\"S8qaTQv9\",\"frontend_node_http.md\":\"Be4Lvv97\",\"frontend_kopi-crx_index.md\":\"DfV0qPDB\",\"demo_react-demo_readme.md\":\"C2tREDR4\",\"frontend_node_base.md\":\"741Jomsf\",\"frontend_index.md\":\"DQw1RiFk\",\"frontend_node_buffer-and-stream.md\":\"D-uQYa3Y\",\"frontend_node_koa-bff.md\":\"qFGgTu6B\",\"crx-privacy.md\":\"9lZgyPi3\",\"demo_node-tool-demo_readme.md\":\"BamPCaKQ\",\"frontend_node_file-actions.md\":\"EU_lGZZu\",\"frontend_node_express-and-koa.md\":\"meD4vrKe\",\"frontend_node_webpack-plugin.md\":\"CVwIi7j8\",\"frontend_node_node-cli.md\":\"Bm4Nc6l5\",\"frontend_react_index.md\":\"09v3cNCr\",\"frontend_tab-quick-group-crx_index.md\":\"C8fwwBt7\",\"frontend_utils-lib_calculate.md\":\"Dcvt0tZ-\",\"frontend_utils-lib_format.md\":\"D1rwaV40\",\"frontend_utils-lib_index.md\":\"DUCuLJI1\",\"frontend_utils-lib_array.md\":\"Cq8X_Eih\",\"frontend_utils-lib_is.md\":\"DA_1GK35\",\"frontend_utils-lib_object.md\":\"CLOWo0U2\",\"frontend_vite_index.md\":\"D-QHEAS-\",\"frontend_utils-lib_storage.md\":\"lnBo37Wg\",\"frontend_vue_performance.md\":\"_7uL4hwk\",\"frontend_utils-lib_tree.md\":\"CxjCM9HI\",\"frontend_vue_ref-reactive.md\":\"BPhPhCbb\",\"frontend_vue_index.md\":\"DacVKmjV\",\"frontend_vue_base.md\":\"CXTqnJea\",\"frontend_vue_version-diff.md\":\"WlbWdA65\",\"index.md\":\"DAdy6jgj\",\"frontend_webpack_index.md\":\"BUs7jsrh\",\"frontend_zebr-cli_index.md\":\"DiCRLqcx\",\"posts_learn-english.md\":\"0a1IPgQB\",\"frontend_utils-lib_string.md\":\"fJkkPUjr\",\"me.md\":\"1D1MXNAX\",\"posts_canvas-icon.md\":\"DQu-W73F\",\"posts_chrome-extension.md\":\"BxLeHTDp\",\"posts_git-store-migrate.md\":\"B3wm8UcO\",\"posts_crx-publish.md\":\"8JbafavT\",\"posts_docs-drive.md\":\"927WxAHR\",\"posts_daily-task.md\":\"ClaqWYEw\",\"posts_index.md\":\"B92F43Cr\",\"posts_github22端口连接超时报错的解决办法.md\":\"CtVV9C01\",\"posts_readme.md\":\"DeoGPKCI\",\"posts_npm-publish.md\":\"77B-P3fz\",\"posts_project-lint.md\":\"CWlIoeXG\",\"posts_vscode.md\":\"H752BidR\",\"posts_window 安装 nvm 管理.md\":\"DGCQP8If\",\"posts_webpack-plugin.md\":\"Bo-0dwxc\",\"posts_vitepress.md\":\"In8-YQ5h\",\"posts_craoco-webpack-config.md\":\"COP3-bOH\",\"posts_浏览器事件循环.md\":\"CQ8uP4rH\",\"posts_vue常见的优化手段.md\":\"ALxP-XsE\",\"posts_浏览器渲染原理.md\":\"F9dnLjr-\",\"posts_第二篇.md\":\"BT4ETahJ\",\"posts_第一篇.md\":\"DK5A_si-\",\"posts_vite-plugin.md\":\"BtwUZU4p\",\"resume.md\":\"DUYmapeF\",\"posts_vscode-extension.md\":\"C5OefQlg\",\"posts_vue响应式.md\":\"BzMCfZ42\",\"posts_歌词滚动效果.md\":\"-obJHDUk\",\"posts_购物车案例.md\":\"qJs0MVRU\",\"frontend_react_base.md\":\"CgbLn7Js\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"LinQiang.Shen\",\"description\":\"Vite & Vue powered static site generator.\",\"base\":\"/blog-vitepress/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"LinQiang·Shen\",\"logo\":\"/assets/WechatIMG56.jpg\",\"nav\":[{\"text\":\"博客\",\"link\":\"/posts/\"},{\"text\":\"前端\",\"items\":[{\"text\":\"React\",\"link\":\"/frontend/react/\"},{\"text\":\"Node\",\"link\":\"/frontend/node/\"},{\"text\":\"工具函数库\",\"link\":\"/frontend/utils-lib/\"},{\"text\":\"命令行工具\",\"link\":\"/frontend/zebr-cli/\"},{\"text\":\"Kopi\",\"link\":\"/frontend/kopi-crx/\"},{\"text\":\"Tab Quick Group\",\"link\":\"/frontend/tab-quick-group-crx/index.md\"}]}],\"socialLinks\":[{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"120 13 72 72\\\"><script xmlns=\\\"\\\"/><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"\\\"><path d=\\\"m0 0h312v100h-312z\\\"/><path d=\\\"m156 85c-19.882251 0-36-16.117749-36-36s16.117749-36 36-36 36 16.117749 36 36-16.117749 36-36 36zm18.222232-39.9993426-20.444332.0004656c-.981652 0-1.777511.7956502-1.777768 1.7773025l-.002109 4.4442415c-.000258.9818341.795468 1.7779763 1.777302 1.7782335h.00048l12.446471-.0005988c.981834-.0000082 1.777775.795919 1.777783 1.7777532v.0000148l-.000015.4443924v.4444466c0 2.9455024-2.387801 5.3333039-5.333304 5.3333039l-16.890119-.000049c-.981693 0-1.77752-.7958052-1.777547-1.7774984l-.000662-16.8884814c-.000081-2.9455025 2.387655-5.3333698 5.333157-5.333451h.000147l24.885554-.0009559c.981404 0 1.777159-.795262 1.777768-1.7766654l.004962-4.4442409c.000609-.981834-.794831-1.7782613-1.776665-1.7788703-.000368-.0000002-.000735-.0000003-.001103-.0000003l-24.888752.0011758c-7.363727 0-13.333219 5.9694589-13.333259 13.3331863l-.000221 24.8878699c-.000005.9818342.795924 1.7777724 1.777758 1.7777778l26.222571-.0000098c6.627235 0 11.999671-5.3724358 11.999671-11.9996713v-10.2219033c0-.9818341-.795934-1.777768-1.777768-1.777768z\\\" fill=\\\"#c71d23\\\"/></g><script xmlns=\\\"\\\"/></svg>\"},\"link\":\"https://gitee.com/shen-linqiang\"},{\"icon\":\"github\",\"link\":\"https://github.com/zebr57\"}],\"sidebar\":{\"/posts/\":[{\"text\":\"README\",\"link\":\"/posts/readme.md\"},{\"text\":\"BLOG-LIST\",\"link\":\"/posts/\"},{\"text\":\"DAILY-LIFE\",\"items\":[{\"text\":\"文档驱动\",\"link\":\"/posts/docs-drive.md\"},{\"text\":\"每日任务\",\"link\":\"/posts/daily-task.md\"}]},{\"text\":\"开发工具\",\"items\":[{\"text\":\"window 安装 nvm 管理\",\"link\":\"/posts/window 安装 nvm 管理.md\"}]},{\"text\":\" NEW-TECHNOLOGY\",\"items\":[{\"text\":\"Vite plugin\",\"link\":\"/posts/vite-plugin.md\"},{\"text\":\"Webpack plugin\",\"link\":\"/posts/webpack-plugin.md\"},{\"text\":\"Chrome extension\",\"link\":\"/posts/chrome-extension.md\"},{\"text\":\"Vscode extension\",\"link\":\"/posts/vscode-extension.md\"}]},{\"text\":\"开源项目\",\"items\":[{\"text\":\"node 命令行工具\",\"link\":\"/frontend/zebr-cli/index.md\"},{\"text\":\"Js 函数工具库\",\"link\":\"/frontend/utils-lib/index.md\"},{\"text\":\"标签管理器\",\"link\":\"/frontend/kopi-crx/index.md\"},{\"text\":\"Kopi 文本复制\",\"link\":\"/frontend/kopi-crx/index.md\"},{\"text\":\"Tab Quick Group 标签快速分组\",\"link\":\"/frontend/tab-quick-group-crx/index.md\"}]},{\"text\":\"发布\",\"items\":[{\"text\":\"npm 发包\",\"link\":\"/posts/npm-publish.md\"},{\"text\":\"vitepress+gitee发布个人站点\",\"link\":\"/posts/vitepress.md\"},{\"text\":\"chrome 扩展发布\",\"link\":\"/posts/crx-publish.md\"}]},{\"text\":\"项目配置\",\"items\":[{\"text\":\"项目统一规范配置\",\"link\":\"/posts/project-lint.md\"},{\"text\":\"craco 修改 webpack 配置\",\"link\":\"/posts/craoco-webpack-config.md\"}]},{\"text\":\"命令行指令\",\"items\":[{\"text\":\"github22端口连接超时报错\",\"link\":\"/posts/github22端口连接超时报错的解决办法.md\"}]}],\"/frontend/\":[{\"text\":\"Vue\",\"items\":[{\"text\":\"ref和reactive\",\"link\":\"/frontend/vue/ref-reactive.md\"},{\"text\":\"vue 性能优化\",\"link\":\"/frontend/vue/performance.md\"},{\"text\":\"vue2和vue3的区别\",\"link\":\"/frontend/vue/version-diff.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"React\",\"items\":[{\"text\":\"What is React?\",\"link\":\"/frontend/react/\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Node\",\"items\":[{\"text\":\"What is Node?\",\"link\":\"/frontend/node/\"},{\"text\":\"常用模块\",\"link\":\"/frontend/node/base.md\"},{\"text\":\"文件操作\",\"link\":\"/frontend/node/file-actions.md\"},{\"text\":\"buffer和stream\",\"link\":\"/frontend/node/Buffer-and-stream.md\"},{\"text\":\"http 服务\",\"link\":\"/frontend/node/http.md\"},{\"text\":\"Express 和 Koa 框架\",\"link\":\"/frontend/node/Express-and-koa.md\"},{\"text\":\"koa 做 bff 中间层\",\"link\":\"/frontend/node/koa-bff.md\"},{\"text\":\"工程化工具-cli\",\"link\":\"/frontend/node/node-cli.md\"}],\"collapsible\":true,\"collapsed\":true}],\"/frontend/utils-lib/\":[{\"text\":\"开始\",\"items\":[{\"text\":\"说明\",\"link\":\"/frontend/utils-lib/index.md\"}]},{\"text\":\"工具函数库\",\"items\":[{\"text\":\"类型判断\",\"link\":\"/frontend/utils-lib/is.md\"},{\"text\":\"数字计算\",\"link\":\"/frontend/utils-lib/calculate.md\"},{\"text\":\"字符串操作\",\"link\":\"/frontend/utils-lib/string.md\"},{\"text\":\"对象操作\",\"link\":\"/frontend/utils-lib/object.md\"},{\"text\":\"数组操作\",\"link\":\"/frontend/utils-lib/array.md\"},{\"text\":\"树结构操作\",\"link\":\"/frontend/utils-lib/tree.md\"},{\"text\":\"格式转化\",\"link\":\"/frontend/utils-lib/format.md\"},{\"text\":\"本地存储\",\"link\":\"/frontend/utils-lib/storage.md\"}],\"collapsible\":false,\"collapsed\":false}],\"/frontend/zebr-cli/\":[{\"text\":\"开始\",\"items\":[{\"text\":\"说明\",\"link\":\"/frontend/zebr-cli/index.md\"}]}]},\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"lastUpdatedText\":\"最近更新时间\",\"footer\":{\"copyright\":\"Copyright © 2023-present LinQiang Shen\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>